(()=>{"use strict";let e,t=document.querySelector("#search"),r=document.querySelector("#select-temp");document.querySelector("#toggle-background"),t.addEventListener("keyup",(o=>{if(13===o.keyCode){if(""==t.value)return;e=performance.now(),async function(e,t,r){let o,n,i=await fetch(`https://api.openweathermap.org/data/2.5/weather?q=${e}${t}&APPID=3ea0f850bb5508c08514a8d1e9523f48`,{mode:"cors"}),c=await i.json(),a=document.querySelector("#weather-time");if("city not found"!=c.message){if(!i.ok)return alert("Weather error occurred!"),void console.error("Weather error.");!function(e,t,r){let o=document.querySelector(".container"),n=document.querySelector("#city"),i=document.querySelector("#country"),c=document.querySelector("#weather"),a=document.querySelector("#temperature"),u=document.querySelector("#humidity"),m=" °K";"&units=metric"==t?m=" °C":"&units=imperial"==t&&(m=" °F"),n.innerText=`${e.name}, `,i.innerText=`${e.sys.country}`,c.innerText=`${e.weather[0].description}`,a.innerText=`${e.main.temp}${m}`,u.innerText=`${e.main.humidity} %`,o.style.display="grid",function(e,t){fetch(`https://api.giphy.com/v1/gifs/translate?api_key=00ibi7jgk4Tkog3u9VTqyvTJQYt3Zfa0&s=${e}`,{mode:"cors"}).then((function(e){if(!e.ok)throw"Gif error!";return e.json()})).then((function(e){let r,o,n=document.querySelector("#gif"),i=document.querySelector("#gif-time");n.src=e.data.images.original.url,r=performance.now(),o=r-t,i.innerText=`Time it took to get gif: ${o/1e3}s`})).catch((e=>{console.error(e),alert("Gif error occurred.")}))}(e.weather[0].main,r)}(c,t,r),o=performance.now(),n=o-r,a.innerText=`Time it took to get weather info: ${n/1e3}s`}else alert("City not found.")}(t.value,r.value,e),t.value=""}}))})();